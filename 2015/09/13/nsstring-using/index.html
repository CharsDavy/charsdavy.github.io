<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>NSString 字符串使用（基础篇） - Chars&#39;s Tech Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="摘要：iOS字符串主要分为两大类：NSString和NSMutableString。即不可变和可变字符串。在很多时候两者使用差异不大。文章分享字符串使用方法。">
<meta property="og:type" content="article">
<meta property="og:title" content="NSString 字符串使用（基础篇）">
<meta property="og:url" content="http://charsdavy.github.io/2015/09/13/nsstring-using/index.html">
<meta property="og:site_name" content="Chars's Tech Blog">
<meta property="og:description" content="摘要：iOS字符串主要分为两大类：NSString和NSMutableString。即不可变和可变字符串。在很多时候两者使用差异不大。文章分享字符串使用方法。">
<meta property="og:updated_time" content="2016-08-03T12:21:16.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NSString 字符串使用（基础篇）">
<meta name="twitter:description" content="摘要：iOS字符串主要分为两大类：NSString和NSMutableString。即不可变和可变字符串。在很多时候两者使用差异不大。文章分享字符串使用方法。">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-80507808-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo logo-text" href="/">Chars</a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/atom.xml">Rss</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://charsdavy.github.io"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer"><article id="post-nsstring-using" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      NSString 字符串使用（基础篇）
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2015/09/13/nsstring-using/" class="article-date">
  <time datetime="2015-09-13T08:43:27.000Z" itemprop="datePublished">2015-09-13</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

      
        <div class="article-comment-link-wrap">
          <a href="http://charsdavy.github.io/2015/09/13/nsstring-using/#ds-thread" class="article-comment-link">Comments</a>
        </div>
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>摘要：iOS字符串主要分为两大类：NSString和NSMutableString。即不可变和可变字符串。在很多时候两者使用差异不大。文章分享字符串使用方法。</p>
<a id="more"></a>
<h1 id="一、不可变字符"><a href="#一、不可变字符" class="headerlink" title="一、不可变字符"></a>一、不可变字符</h1><p>NSString是不可变字符串，它产生的其他字符串方法都是生成一个新的字符串，而不会改变原来字符串。</p>
<h2 id="1-创建方式"><a href="#1-创建方式" class="headerlink" title="1.创建方式"></a>1.创建方式</h2><p>1）字面量，它是常量字符串，存储常量区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *str=@&quot;hello&quot;;</span><br></pre></td></tr></table></figure>
<p>2）通过快捷构造法，存储堆区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *str = [NSString stringWithFormat:@&quot;hello %@&quot;, @&quot;world&quot;];</span><br></pre></td></tr></table></figure>
<p>3）初始化方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *str = [[NSString alloc] initWithFormat:@&quot;%@&quot;,@&quot;hello&quot;];</span><br></pre></td></tr></table></figure>
<h2 id="2-字符串的获取"><a href="#2-字符串的获取" class="headerlink" title="2.字符串的获取"></a>2.字符串的获取</h2><p>1）获取字符串长度</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *str=@&quot;hello&quot;;</span><br><span class="line">long length = str.length;</span><br></pre></td></tr></table></figure>
<p>2）获取子串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">NSString *str=@&quot;hello&quot;;</span><br><span class="line"></span><br><span class="line">/*从索引字符串开始截取，直到字符串末尾，包含索引上的字符*/</span><br><span class="line">NSString *strSub = [str substringFormIndex:2];</span><br><span class="line"></span><br><span class="line">/*从字符串开头开始截取，直到索引位置，不包含索引上的字符*/</span><br><span class="line">NSString *strSubT = [str substringToIndex:2];</span><br><span class="line"></span><br><span class="line">/*从哪个位置开始，截取多长*/</span><br><span class="line">NSRange range = &#123;2,4&#125;;</span><br><span class="line">NSString *strSubR = [str substringWithRange:range];</span><br><span class="line"></span><br><span class="line">/*获取某个子串所在的区域*/</span><br><span class="line">NSRange rangeS = [str rangeOfString&quot;@&quot;el&quot;];</span><br><span class="line"></span><br><span class="line">/*单词首字母转大写*/</span><br><span class="line">[str capitalizedString];</span><br><span class="line"></span><br><span class="line">/*字符替换*/</span><br><span class="line">NSString *newStr = [str stringByReplacingOccurencesOfString:@&quot;ll&quot; withString:@&quot;al&quot;];</span><br><span class="line"></span><br><span class="line">/*使用某个字符串替换掉原来字符串中某个区间的字符串*/</span><br><span class="line">NSRange range = [str rangeOfString:@&quot;ll&quot;];</span><br><span class="line">NSString *newStr = [str stringByReplacingCharactersInRange:range withSring:@&quot;hi&quot;];</span><br><span class="line"></span><br><span class="line">/*删除原字符串中的所有指定字符串*/</span><br><span class="line">NSString *newStr = [str stringByReplacingOccurencesOfString:@&quot;ll&quot; withString:@&quot;&quot;];</span><br><span class="line"></span><br><span class="line">/*去掉两头空格*/</span><br><span class="line">NSString *newStr = [str stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];</span><br><span class="line"></span><br><span class="line">/*在原来路径上拼接一个路径*/</span><br><span class="line">NSString *path = @&quot;/Users/dengwei&quot;;</span><br><span class="line">path = [path stringByAppendingPathComponent:@&quot;Desktop&quot;];</span><br><span class="line"></span><br><span class="line">/*获取扩展名*/</span><br><span class="line">NSString *path = @&quot;/Users/dengwei/Desktop/apple.txt&quot;;</span><br><span class="line">path = [path stringByDeletingPathExtension];</span><br><span class="line">path = [path stringByAppendingPathExtension:@&quot;png&quot;];</span><br><span class="line"></span><br><span class="line">/*把字符串写入文件*/</span><br><span class="line">NSString *str = @&quot;today is cold!&quot;;</span><br><span class="line">NSString *path = @&quot;/Users/dengwei/Desktop/apple.txt&quot;;</span><br><span class="line">NSError *error;</span><br><span class="line">BOOL isSuccess = [str writeToFile:path atomically:YES encoding:NSUTF8StringEncoding error:&amp;error];</span><br><span class="line"></span><br><span class="line">/*读取文件*/</span><br><span class="line">NSString *string = [NSString stringWithContentsOfFile:path encoding:NSUTF8StringEncoding error:&amp;error];</span><br><span class="line"></span><br><span class="line">/*字符串与URL*/</span><br><span class="line">/*</span><br><span class="line">URL：Uniform Resource Locator 统一资源定位符</span><br><span class="line">URL：格式  协议头://主机名称/资源路径</span><br><span class="line">http://www.baidu.com/some/images/pic.png</span><br><span class="line">404：没有找到资源</span><br><span class="line">*/</span><br><span class="line">NSString *str = @&quot;today is cold!&quot;;</span><br><span class="line">/*url路径中不支持中文，若是有中文则需将中文转码*/</span><br><span class="line">NSURL *url =  [NSURL URLWithString:@&quot;file:///Users/dengwei/Desktop/apple.txt&quot;];</span><br><span class="line"></span><br><span class="line">/*将中文转码*/</span><br><span class="line">NSString *url_cn =  @&quot;file:///Users/dengwei/Desktop/中文.txt&quot;;</span><br><span class="line">/*编码，把UTF8编码的字符串编码成URL中可用的字符串*/</span><br><span class="line">url_cn = [url_cn stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];</span><br><span class="line">/*解码，把URL中可用的字符串编码的字符串解码成UTF8编码的字符串*/</span><br><span class="line">url_cn = [url_cn stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];</span><br><span class="line"></span><br><span class="line">url_cn = [NSURL URLWithString:url_cn];</span><br><span class="line">NSError *error;</span><br><span class="line">/*写入*/</span><br><span class="line">BOOL isSuccess = [str writeToURL:url atomically:YES encoding:NSUTF8StringEncoding error:&amp;error];</span><br><span class="line">/*读取*/</span><br><span class="line">NSString *string = [str stringWithContentsOfURL:url atomically:YES encoding:NSUTF8StringEncoding error:&amp;error];</span><br></pre></td></tr></table></figure>
<h2 id="3-字符串范围获取"><a href="#3-字符串范围获取" class="headerlink" title="3.字符串范围获取"></a>3.字符串范围获取</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/*计算文本大小*/</span><br><span class="line">CGSize maxSize = CGSizeMake(MAXFLOAT, MAXFLOAT);/*width与height都不限制*/</span><br><span class="line">CGSize nameSize = [self.microBlogModel.name boundingRectWithSize:maxSize options:NSStringDrawingUsesLineFragmentOrigin attributes:@&#123;NSFontAttributeName:[UIFont systemFontOfSize:15]&#125; context:nil].size;</span><br></pre></td></tr></table></figure>
<h1 id="二、可变字符"><a href="#二、可变字符" class="headerlink" title="二、可变字符"></a>二、可变字符</h1><p>NSMutableString，可变字符，是NSString的子类。<br>一个字符串需要经常修改其中的内容，则使用NSMutableString。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSMutableString *strM = [NSMutableString string];</span><br><span class="line">/*Capacity表示容量，可以容纳多少字符，如果超过这个存储空间，就会扩展它*/</span><br><span class="line">NSMutableString *strM = [NSMutableString stringWithCapacity:10];</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

      </footer>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/02/10/memory-alignment/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-title"><span>&lt;</span>&nbsp;
        
          内存对齐详解
        
      </div>
    </a>
  
  
</nav>

  
</article>




<div class="share_addthis">
  <div class="sharing addthis_toolbox share">
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>






<section id="comments">
  <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="post-nsstring-using" data-title="NSString 字符串使用（基础篇）" data-url="http://charsdavy.github.io/2015/09/13/nsstring-using/"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:'charsdavy'};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0] 
       || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
  <!-- 多说公共JS代码 end -->
</section>
</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Chars Davy&nbsp;
     </div>
  </div>
</footer>

    

<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>